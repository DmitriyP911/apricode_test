{"version":3,"sources":["webpack:///./index.js"],"names":["selector","config","_mainElement","document","querySelector","_sliderWrapper","_sliderItems","querySelectorAll","_wrapperWidth","parseFloat","getComputedStyle","width","_itemWidth","_positionLeftItem","_transform","_step","_items","_interval","_html","innerHTML","_states","active","minWidth","count","_config","isCycling","direction","interval","pause","key","forEach","item","index","push","position","transform","_setActive","_index","body","clientWidth","arr","getItemMin","indexItem","getItemMax","getMin","getMax","_transformItem","nextItem","element","rect","vWidth","vHeight","elemFromPoint","getBoundingClientRect","window","innerWidth","doc","documentElement","innerHeight","clientHeight","x","y","elementFromPoint","right","bottom","left","top","contains","length","style","_cycle","setInterval","_controlClick","e","target","classList","preventDefault","clearInterval","_handleVisibilityChange","visibilityState","addEventListener","_getActive","_sliderControls","_sliderControlLeft","_sliderControlRight","multiItemSlider","input","inputButton","value","removeAttribute","setAttribute","user","message","alert"],"mappings":"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","file":"main.b9e447cfe5d2c94b0658.js","sourcesContent":["import styles from './styles.css';\r\n\r\n'use strict';\r\nvar multiItemSlider = ( function () {\r\n\r\n    function _isElementVisible ( element ) {\r\n        var rect = element.getBoundingClientRect(),\r\n            vWidth = window.innerWidth || doc.documentElement.clientWidth,\r\n            vHeight = window.innerHeight || doc.documentElement.clientHeight,\r\n            elemFromPoint = function ( x, y ) { return document.elementFromPoint( x, y ) };\r\n        if( rect.right < 0 || rect.bottom < 0\r\n            || rect.left > vWidth || rect.top > vHeight )\r\n            return false;\r\n        return (\r\n            element.contains( elemFromPoint( rect.left, rect.top ) )\r\n            || element.contains( elemFromPoint( rect.right, rect.top ) )\r\n            || element.contains( elemFromPoint( rect.right, rect.bottom ) )\r\n            || element.contains( elemFromPoint( rect.left, rect.bottom ) )\r\n        );\r\n    }\r\n\r\n    return function ( selector, config ) {\r\n        var\r\n            _mainElement = document.querySelector( selector ),\r\n            _sliderWrapper = _mainElement.querySelector( '.slider__wrapper' ),\r\n            _sliderItems = _mainElement.querySelectorAll( '.slider__item' ),\r\n            _wrapperWidth = parseFloat( getComputedStyle( _sliderWrapper ).width ),\r\n            _itemWidth = parseFloat( getComputedStyle( _sliderItems[0] ).width ),\r\n            _positionLeftItem = 0,\r\n            _transform = 0,\r\n            _step = _itemWidth / _wrapperWidth * 100,\r\n            _items = [],\r\n            _interval = 0,\r\n            _html = _mainElement.innerHTML,\r\n            _states = [\r\n                { active: false, minWidth: 0, count: 1 },\r\n                { active: false, minWidth: 980, count: 2 }\r\n            ],\r\n            _config = {\r\n                isCycling: false,\r\n                direction: 'right',\r\n                interval: 5000,\r\n                pause: true\r\n            };\r\n\r\n        for( var key in config ) {\r\n            if( key in _config ) {\r\n                _config[key] = config[key];\r\n            }\r\n        }\r\n        _sliderItems.forEach( function ( item, index ) {\r\n            _items.push( { item: item, position: index, transform: 0 } );\r\n        } );\r\n\r\n        var _setActive = function () {\r\n            var _index = 0;\r\n            var width = parseFloat( document.body.clientWidth );\r\n            _states.forEach( function ( item, index, arr ) {\r\n                _states[index].active = false;\r\n                if( width >= _states[index].minWidth )\r\n                    _index = index;\r\n            } );\r\n            _states[_index].active = true;\r\n        }\r\n\r\n        var _getActive = function () {\r\n            var _index;\r\n            _states.forEach( function ( item, index, arr ) {\r\n                if( _states[index].active ) {\r\n                    _index = index;\r\n                }\r\n            } );\r\n            return _index;\r\n        }\r\n\r\n        var position = {\r\n            getItemMin: function () {\r\n                var indexItem = 0;\r\n                _items.forEach( function ( item, index ) {\r\n                    if( item.position < _items[indexItem].position ) {\r\n                        indexItem = index;\r\n                    }\r\n                } );\r\n                return indexItem;\r\n            },\r\n            getItemMax: function () {\r\n                var indexItem = 0;\r\n                _items.forEach( function ( item, index ) {\r\n                    if( item.position > _items[indexItem].position ) {\r\n                        indexItem = index;\r\n                    }\r\n                } );\r\n                return indexItem;\r\n            },\r\n            getMin: function () {\r\n                return _items[position.getItemMin()].position;\r\n            },\r\n            getMax: function () {\r\n                return _items[position.getItemMax()].position;\r\n            }\r\n        }\r\n\r\n        var _transformItem = function ( direction ) {\r\n            var nextItem;\r\n            if( !_isElementVisible( _mainElement ) ) {\r\n                return;\r\n            }\r\n            if( direction === 'right' ) {\r\n                _positionLeftItem++;\r\n                if( ( _positionLeftItem + _wrapperWidth / _itemWidth - 1 ) > position.getMax() ) {\r\n                    nextItem = position.getItemMin();\r\n                    _items[nextItem].position = position.getMax() + 1;\r\n                    _items[nextItem].transform += _items.length * 100;\r\n                    _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';\r\n                }\r\n                _transform -= _step;\r\n            }\r\n            if( direction === 'left' ) {\r\n                _positionLeftItem--;\r\n                if( _positionLeftItem < position.getMin() ) {\r\n                    nextItem = position.getItemMax();\r\n                    _items[nextItem].position = position.getMin() - 1;\r\n                    _items[nextItem].transform -= _items.length * 100;\r\n                    _items[nextItem].item.style.transform = 'translateX(' + _items[nextItem].transform + '%)';\r\n                }\r\n                _transform += _step;\r\n            }\r\n            _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';\r\n        }\r\n\r\n        var _cycle = function ( direction ) {\r\n            if( !_config.isCycling ) {\r\n                return;\r\n            }\r\n            _interval = setInterval( function () {\r\n                _transformItem( direction );\r\n            }, _config.interval );\r\n        }\r\n\r\n        var _controlClick = function ( e ) {\r\n            if( e.target.classList.contains( 'slider__control' ) ) {\r\n                e.preventDefault();\r\n                var direction = e.target.classList.contains( 'slider__control_right' ) ? 'right' : 'left';\r\n                _transformItem( direction );\r\n                clearInterval( _interval );\r\n                _cycle( _config.direction );\r\n            }\r\n        };\r\n\r\n        var _handleVisibilityChange = function () {\r\n            if( document.visibilityState === \"hidden\" ) {\r\n                clearInterval( _interval );\r\n            } else {\r\n                clearInterval( _interval );\r\n                _cycle( _config.direction );\r\n            }\r\n        }\r\n\r\n        var _refresh = function () {\r\n            clearInterval( _interval );\r\n            _mainElement.innerHTML = _html;\r\n            _sliderWrapper = _mainElement.querySelector( '.slider__wrapper' );\r\n            _sliderItems = _mainElement.querySelectorAll( '.slider__item' );\r\n            _sliderControls = _mainElement.querySelectorAll( '.slider__control' );\r\n            _sliderControlLeft = _mainElement.querySelector( '.slider__control_left' );\r\n            _sliderControlRight = _mainElement.querySelector( '.slider__control_right' );\r\n            _wrapperWidth = parseFloat( getComputedStyle( _sliderWrapper ).width );\r\n            _itemWidth = parseFloat( getComputedStyle( _sliderItems[0] ).width );\r\n            _positionLeftItem = 0;\r\n            _transform = 0;\r\n            _step = _itemWidth / _wrapperWidth * 100;\r\n            _items = [];\r\n            _sliderItems.forEach( function ( item, index ) {\r\n                _items.push( { item: item, position: index, transform: 0 } );\r\n            } );\r\n        }\r\n\r\n        var _setUpListeners = function () {\r\n            _mainElement.addEventListener( 'click', _controlClick );\r\n            if( _config.pause && _config.isCycling ) {\r\n                _mainElement.addEventListener( 'mouseenter', function () {\r\n                    clearInterval( _interval );\r\n                } );\r\n                _mainElement.addEventListener( 'mouseleave', function () {\r\n                    clearInterval( _interval );\r\n                    _cycle( _config.direction );\r\n                } );\r\n            }\r\n            document.addEventListener( 'visibilitychange', _handleVisibilityChange, false );\r\n            window.addEventListener( 'resize', function () {\r\n                var\r\n                    _index = 0,\r\n                    width = parseFloat( document.body.clientWidth );\r\n                _states.forEach( function ( item, index, arr ) {\r\n                    if( width >= _states[index].minWidth )\r\n                        _index = index;\r\n                } );\r\n                if( _index !== _getActive() ) {\r\n                    _setActive();\r\n                    _refresh();\r\n                }\r\n            } );\r\n        }\r\n\r\n        _setUpListeners();\r\n        if( document.visibilityState === \"visible\" ) {\r\n            _cycle( _config.direction );\r\n        }\r\n        _setActive();\r\n\r\n        return {\r\n            right: function () {\r\n                _transformItem( 'right' );\r\n            },\r\n            left: function () {\r\n                _transformItem( 'left' );\r\n            },\r\n            stop: function () {\r\n                _config.isCycling = false;\r\n                clearInterval( _interval );\r\n            },\r\n            cycle: function () {\r\n                _config.isCycling = true;\r\n                clearInterval( _interval );\r\n                _cycle();\r\n            }\r\n        }\r\n    }\r\n}() );\r\n\r\nvar slider = multiItemSlider( '.slider', {\r\n    isCycling: true\r\n} )\r\n\r\nconst input = document.querySelector( '.footer-input' );\r\nconst inputButton = document.querySelector( '.button' );\r\n\r\ninput.addEventListener( 'change', () => {\r\n    if( input.value.length > 6 ) {\r\n        inputButton.removeAttribute( \"disabled\" );\r\n    } else inputButton.setAttribute( \"disabled\", true );\r\n\r\n} )\r\n\r\ninputButton.addEventListener( 'click', ( e ) => {\r\n    e.preventDefault();\r\n    const user = {\r\n        message: `Подписался пользователь с имэйлом ${input.value}`\r\n    }\r\n    alert( user.message );\r\n    input.value = \"\";\r\n    inputButton.setAttribute( \"disabled\", true );\r\n} )"],"sourceRoot":""}